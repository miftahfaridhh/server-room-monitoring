#include <LowPower.h>
String cmd = "";

void setup() {
 Serial.begin(9600);
}

void loop() {
  if (Serial.available()){
    char SerialInByte;
    SerialInByte = Serial.read();
    if(SerialInByte==13) //carriage return \n
     { 
            //Serial.print("Received message : ");
            Serial.print(cmd);
            cmd = "";
            delay(500);
            LowPower.powerDown(SLEEP_500MS, ADC_OFF, BOD_OFF);
            delay(250);
            LowPower.powerDown(SLEEP_250MS, ADC_OFF, BOD_OFF);
     }
     else
     {
      cmd += String(SerialInByte);
      //delay(125);
      //LowPower.powerDown(SLEEP_500MS, ADC_OFF, BOD_OFF);
      //delay(125);
     }
  }
}
